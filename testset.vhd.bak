LIBRARY ieee;
USE ieee.std_logic_1164.ALL;
USE ieee.numeric_std.ALL;
ENTITY testset IS
  GENERIC (w : positive := 8);
  PORT (	clk, reset, data	: std_logic := 0);
END testset;

ARCHITECTURE set1 OF testset IS
	signal clock : std_logic := '0';
BEGIN
	clock <= not clock after 10 ns;
	clk <= clock;
	
  PROCESS
  BEGIN
    
	 wait for 100 ns;
	 reset <= '1';
	 wait for 100 ns;
	 
	 assert false report "Send the pattern 110 times" severity note;
	 
	 for i in 1 to 110 loop
	 data <= '0';
	 wait for 100 ns;
	 data <= '1';
	 wait for 100 ns;	 
	 end loop
	 
	 assert false report "Reset the pattern recognizer" severity note;
	 
	 reset <= '0';
	 wait for 100 ns;
	 
	 assert false report "Send the pattern 50 times " severity note;
	 
	 for i in 1 to 50 loop
	 data <= '0';
	 wait for 100 ns;
	 data <= '1';
	 wait for 100 ns;
	 end loop
	 
	 
	 
	 data <= (others => '0');    -- all zero
    WAIT FOR 10 ns;

    data <= (others => '1');    -- all one
    WAIT FOR 10 ns;

    FOR i IN 0 to 2**w-1 LOOP
      data <= std_logic_vector(to_unsigned(i,w));
      EXIT WHEN i=20; -- if w is large not an exhaustive test is performed
      WAIT FOR 10 ns;
    END LOOP;
    WAIT; -- forever
  END PROCESS;
END set1;






